webpackJsonp([7],{101:function(t,e,n){"use strict";n.d(e,"a",function(){return o});n(4),n(53);var r="__sunshine",a=window,o=function(){function t(t){var e=this;this.platform=t,this._dbPromise=new Promise(function(t,n){try{var o;e.platform.ready().then(function(){o=e.platform.is("cordova")&&a.sqlitePlugin?a.sqlitePlugin.openDatabase({name:r,location:"default"}):a.openDatabase(r,"1.0","database",5242880),t(o)})}catch(t){n({err:t})}}),this._tryInit()}return t.prototype._tryInit=function(){this.query("CREATE TABLE IF NOT EXISTS kv (key text primary key, value text)").catch(function(t){})},t.prototype.query=function(t,e){var n=this;return void 0===e&&(e=[]),new Promise(function(r,a){try{n._dbPromise.then(function(n){n.transaction(function(n){n.executeSql(t,e,function(t,e){return r({tx:t,res:e})},function(t,e){return a({tx:t,err:e})})},function(t){return a({err:t})})})}catch(t){a({err:t})}})},t.prototype.get=function(t){return this.query("select key, value from kv where key = ? limit 1",[t]).then(function(t){if(t.res.rows.length>0)return t.res.rows.item(0).value})},t.prototype.set=function(t,e){return this.query("insert or replace into kv(key, value) values (?, ?)",[t,e])},t.prototype.getJson=function(t){return this.get(t).then(function(t){try{return JSON.parse(t)}catch(t){throw t}})},t.prototype.setJson=function(t,e){try{return this.set(t,JSON.stringify(e))}catch(t){return Promise.reject(t)}},t.prototype.remove=function(t){return this.query("delete from kv where key = ?",[t])},t.prototype.clear=function(){return this.query("delete from kv")},t}()},102:function(t,e,n){"use strict";n.d(e,"d",function(){return r}),n.d(e,"b",function(){return a}),n.d(e,"a",function(){return o}),n.d(e,"c",function(){return s});var r=function(){var t={};return t[t.F=0]="F",t[t.C=1]="C",t}(),a=function(){var t={};return t[t.IN=0]="IN",t[t.CM=1]="CM",t}(),o=function(){var t={};return t[t.MI=0]="MI",t[t.KM=1]="KM",t}(),s=function(){var t={};return t[t.MBAR=0]="MBAR",t[t.HPA=1]="HPA",t}()},121:function(t,e,n){"use strict";n(125),n(79),n(78),n(101);var r=n(102);n.d(e,"c",function(){return r.a}),n.d(e,"d",function(){return r.b}),n.d(e,"e",function(){return r.c}),n.d(e,"f",function(){return r.d});var a=n(182);n.d(e,"a",function(){return a.a}),n.d(e,"b",function(){return a.b})},125:function(t,e,n){"use strict";n.d(e,"a",function(){return d});n(4);var r=n(0),a=n(91),o=n(11),s=(n.n(o),n(359)),i=(n.n(s),n(360)),u=(n.n(i),n(363)),c=(n.n(u),n(78),n(182)),l=n(123),d=(n.n(l),function(){function t(t,e){this.jsonp=t,this.databaseService=e}return t.prototype.getForecast=function(t,e){void 0===e&&(e=!1);var n=this,a=new r.EventEmitter;return n.databaseService.getForecast(t.name).then(function(e){if(l.isEmpty(e)||!e.lastUpdated||l.isEmpty(e.forecast))throw new Error("Invalid database forecast, fallback to server > "+t.name);a.emit(e.forecast);var n=new Date;if(n.setTime(e.lastUpdated),Math.abs((new Date).getHours()-n.getHours())>c.d||n.getDate()!=(new Date).getDate())throw new Error("Outdated database forecast, refreshing from server > "+t.name)}).catch(function(r){r&&r.message,e||n.getServerData(t,a)}),a},t.prototype.getServerData=function(t,e){var n=this,a=new r.EventEmitter,o=new r.EventEmitter,s=new r.EventEmitter;n.jsonp.get(n.getRequestUri(t)).map(function(t){return t.json()}).catch(n.handleError).subscribe(function(r){n.jsonp.get(n.getRequestUri(t,r.daily.data[0].time)).map(function(t){return t.json()}).catch(n.handleError).subscribe(function(t){return a.emit(t)}),n.jsonp.get(n.getRequestUri(t,r.daily.data[0].time-86400)).map(function(t){return t.json()}).catch(n.handleError).subscribe(function(t){return o.emit(t)}),n.jsonp.get(n.getRequestUri(t,r.daily.data[0].time-172800)).map(function(t){return t.json()}).catch(n.handleError).subscribe(function(t){return s.emit(t)}),a.subscribe(function(a){o.subscribe(function(o){s.subscribe(function(s){r.f0=a,r.f48=s,r.f24=o,e.emit(r),n.databaseService.addForecast(t.name,r)})})})})},t.prototype.handleError=function(t){var e;if(t instanceof a.g){var n=t.json()||"",r=n.error||JSON.stringify(n);e=t.status+" - "+(t.statusText||"")+" "+r}else e=t.message?t.message:t.toString();return o.Observable.throw(e)},t.prototype.getRequestUri=function(t,e){return void 0===e&&(e=0),c.c.API_ENDPOINT+c.c.API_KEY+"/"+t.lat+","+t.lng+(e>0?","+e:"")+"?units=us&lang=en&exclude=currently,minutely,alerts,flags"+(e>0?",daily":"")+"&callback=JSONP_CALLBACK"},t}())},150:function(t,e){function n(t){return Promise.resolve().then(function(){throw new Error("Cannot find module '"+t+"'.")})}n.keys=function(){return[]},n.resolve=n,t.exports=n,n.id=150},180:function(t,e,n){function r(t){var e=a[t];return e?n.e(e[1]).then(function(){return n(e[0])}):Promise.reject(new Error("Cannot find module '"+t+"'."))}var a={"../pages/city-weather/city-weather.module.ngfactory":[373,1],"../pages/home-weather/home-weather.module.ngfactory":[374,0],"../pages/landscape/landscape.module.ngfactory":[375,2],"../pages/location/location.module.ngfactory":[376,6],"../pages/settings/settings.module.ngfactory":[377,3],"../pages/weather-detail/weather-detail.module.ngfactory":[378,5],"../pages/world-city-list/world-city-list.module.ngfactory":[379,4]};r.keys=function(){return Object.keys(a)},r.id=180,t.exports=r},182:function(t,e,n){"use strict";n.d(e,"b",function(){return a}),n.d(e,"c",function(){return o}),n.d(e,"a",function(){return s}),n.d(e,"d",function(){return i});var r=n(102),a={temp:r.d.F,length:r.b.IN,distance:r.a.MI,time:12,pressure:r.c.MBAR},o={API_ENDPOINT:"https://api.darksky.net/forecast/",API_KEY:"f385f57cf7cae1265a9915eaee52d2b1"},s={METRICS:"metrics",HOME_LOCATION:"homeLocation"},i=0},331:function(t,e,n){"use strict";function r(t){return o["ɵvid"](0,[o["ɵqud"](402653184,1,{nav:0}),(t()(),o["ɵted"](-1,null,["\n"])),(t()(),o["ɵeld"](2,0,null,null,8,"ion-split-pane",[],null,null,null,null,null)),o["ɵdid"](3,4341760,null,1,M.b,[o.NgZone,k.a,N.a,o.ElementRef,o.Renderer],null,null),o["ɵqud"](603979776,2,{_setchildren:1}),o["ɵprd"](2048,[[2,4]],M.a,null,[M.b]),(t()(),o["ɵted"](-1,null,["\n  "])),(t()(),o["ɵeld"](7,0,null,null,2,"ion-nav",[["main",""],["swipeBackEnabled","false"]],null,null,null,S.b,S.a)),o["ɵdid"](8,4374528,[[1,4],["content",4]],0,T.a,[[2,A.a],[2,I.a],R.a,N.a,k.a,o.ElementRef,o.NgZone,o.Renderer,o.ComponentFactoryResolver,_.l,L.a,[2,D.a],O.a,o.ErrorHandler],{swipeBackEnabled:[0,"swipeBackEnabled"],root:[1,"root"]},null),o["ɵprd"](2048,[[2,4]],M.a,null,[T.a]),(t()(),o["ɵted"](-1,null,["\n"])),(t()(),o["ɵted"](-1,null,["\n"]))],function(t,e){t(e,8,0,"false",e.component.rootPage)},null)}Object.defineProperty(e,"__esModule",{value:!0});var a=n(23),o=n(0),s=(n(4),n(91)),i=n(151),u=(n(53),n(75)),c=n(138),l=n(76),d=n(57),p=(n(121),function(){function t(t,e,n,r,a){this.platform=t,this.utilService=e,this.statusBar=n,this.splashScreen=r,this.browserTab=a,this.rootPage="HomeWeatherPage",this.pages=[{heading:"",items:[{title:"Home",name:"HomeWeatherPage",icon:"home"},{title:"World",name:"WorldCityListPage",icon:"globe"},{title:"Settings",name:"SettingsPage",icon:"settings"}]}],this.platformReady()}return t.prototype.platformReady=function(){var t=this;this.platform.ready().then(function(){t.platform.is("cordova")&&t.initPlugins()})},t.prototype.initPlugins=function(){this.statusBar.styleLightContent(),this.statusBar.backgroundColorByHexString("#12121c"),this.splashScreen.hide()},t.prototype.openPage=function(t){if(!this.isActive(t)){var e=t.index?{tabIndex:t.index}:{};this.nav.getActiveChildNavs().length&&void 0!=t.index?this.nav.getActiveChildNavs()[0].select(t.index):this.nav.setRoot(t.name,e).catch(function(t){})}},t.prototype.isActive=function(t){var e=this.nav.getActiveChildNavs()[0];return e?e.getSelected()&&e.getSelected().root===t.tabName:!(!this.nav.getActive()||this.nav.getActive().name!==t.name)},t}()),m=n(127),f=function(){return function(){}}(),h=n(46),g=n(320),y=n(321),j=n(322),b=n(323),v=n(324),E=n(325),w=n(326),C=n(327),P=n(328),M=n(34),k=n(5),N=n(2),S=n(372),T=n(50),A=n(6),I=n(21),R=n(9),_=n(8),L=n(29),D=n(14),O=n(10),W=n(79),F=o["ɵcrt"]({encapsulation:2,styles:[],data:{}}),q=o["ɵccf"]("ng-component",p,function(t){return o["ɵvid"](0,[(t()(),o["ɵeld"](0,0,null,null,1,"ng-component",[],null,null,null,r,F)),o["ɵdid"](1,49152,null,0,p,[k.a,W.a,d.a,l.a,u.a],null,null)],null,null)},{},{},[]),H=n(17),z=n(104),x=n(152),U=n(61),B=n(18),J=n(95),Z=n(97),K=n(103),X=n(15),Y=n(31),V=n(35),G=n(99),Q=n(122),$=n(48),tt=n(36),et=n(81),nt=n(66),rt=n(109),at=n(106),ot=n(116),st=n(101),it=n(78),ut=n(125),ct=n(105),lt=n(26),dt=n(100),pt=n(107),mt=o["ɵcmf"](f,[h.b],function(t){return o["ɵmod"]([o["ɵmpd"](512,o.ComponentFactoryResolver,o["ɵCodegenComponentFactoryResolver"],[[8,[g.a,y.a,j.a,b.a,v.a,E.a,w.a,C.a,P.a,q]],[3,o.ComponentFactoryResolver],o.NgModuleRef]),o["ɵmpd"](4608,s.j,s.j,[]),o["ɵmpd"](4608,s.h,s.b,[]),o["ɵmpd"](4608,s.c,s.c,[s.j,s.h]),o["ɵmpd"](4608,s.f,s.a,[]),o["ɵmpd"](5120,s.d,s.i,[s.c,s.f]),o["ɵmpd"](5120,o.LOCALE_ID,o["ɵq"],[[3,o.LOCALE_ID]]),o["ɵmpd"](4608,H.k,H.j,[o.LOCALE_ID,[2,H.t]]),o["ɵmpd"](5120,o.APP_ID,o["ɵi"],[]),o["ɵmpd"](5120,o.IterableDiffers,o["ɵn"],[]),o["ɵmpd"](5120,o.KeyValueDiffers,o["ɵo"],[]),o["ɵmpd"](4608,a.c,a.r,[H.c]),o["ɵmpd"](6144,o.Sanitizer,null,[a.c]),o["ɵmpd"](4608,a.f,z.a,[]),o["ɵmpd"](5120,a.d,function(t,e,n,r,o){return[new a.k(t,e),new a.o(n),new a.n(r,o)]},[H.c,o.NgZone,H.c,H.c,a.f]),o["ɵmpd"](4608,a.e,a.e,[a.d,o.NgZone]),o["ɵmpd"](135680,a.m,a.m,[H.c]),o["ɵmpd"](4608,a.l,a.l,[a.e,a.m]),o["ɵmpd"](5120,x.a,i.d,[]),o["ɵmpd"](5120,x.c,i.e,[]),o["ɵmpd"](4608,x.b,i.c,[x.a,x.c]),o["ɵmpd"](5120,o.RendererFactory2,i.f,[a.l,x.b,o.NgZone]),o["ɵmpd"](6144,a.p,null,[a.m]),o["ɵmpd"](4608,o.Testability,o.Testability,[o.NgZone]),o["ɵmpd"](4608,a.h,a.h,[H.c]),o["ɵmpd"](4608,a.i,a.i,[H.c]),o["ɵmpd"](4608,U.b,i.b,[o.RendererFactory2,a.b]),o["ɵmpd"](4608,B.k,B.k,[]),o["ɵmpd"](4608,B.c,B.c,[]),o["ɵmpd"](4608,J.a,J.a,[R.a,N.a]),o["ɵmpd"](4608,Z.a,Z.a,[R.a,N.a]),o["ɵmpd"](4608,K.a,K.a,[]),o["ɵmpd"](4608,X.a,X.a,[]),o["ɵmpd"](4608,Y.a,Y.a,[k.a]),o["ɵmpd"](4608,V.a,V.a,[N.a,k.a,o.NgZone,O.a]),o["ɵmpd"](4608,G.a,G.a,[R.a,N.a]),o["ɵmpd"](5120,H.f,Q.c,[H.q,[2,H.a],N.a]),o["ɵmpd"](4608,H.e,H.e,[H.f]),o["ɵmpd"](5120,$.b,$.d,[R.a,$.a]),o["ɵmpd"](5120,D.a,D.b,[R.a,$.b,H.e,tt.b,o.ComponentFactoryResolver]),o["ɵmpd"](4608,et.a,et.a,[R.a,N.a,D.a]),o["ɵmpd"](4608,nt.a,nt.a,[R.a,N.a]),o["ɵmpd"](4608,rt.a,rt.a,[R.a,N.a,D.a]),o["ɵmpd"](4608,at.a,at.a,[N.a,k.a,O.a,R.a,_.l]),o["ɵmpd"](4608,ot.a,ot.a,[R.a,N.a]),o["ɵmpd"](4608,L.a,L.a,[k.a,N.a]),o["ɵmpd"](4608,c.a,c.a,[]),o["ɵmpd"](4608,st.a,st.a,[k.a]),o["ɵmpd"](4608,it.a,it.a,[st.a]),o["ɵmpd"](4608,W.a,W.a,[ot.a]),o["ɵmpd"](4608,ut.a,ut.a,[s.d,it.a]),o["ɵmpd"](4608,l.a,l.a,[]),o["ɵmpd"](4608,d.a,d.a,[]),o["ɵmpd"](4608,u.a,u.a,[]),o["ɵmpd"](4608,m.a,m.a,[]),o["ɵmpd"](512,s.e,s.e,[]),o["ɵmpd"](512,H.b,H.b,[]),o["ɵmpd"](1024,o.ErrorHandler,a.q,[]),o["ɵmpd"](256,N.b,{preloadModules:!0},[]),o["ɵmpd"](1024,ct.a,ct.b,[]),o["ɵmpd"](1024,k.a,k.b,[a.b,ct.a,o.NgZone]),o["ɵmpd"](1024,N.a,N.c,[N.b,k.a]),o["ɵmpd"](512,O.a,O.a,[k.a]),o["ɵmpd"](512,lt.a,lt.a,[]),o["ɵmpd"](512,R.a,R.a,[N.a,k.a,[2,lt.a]]),o["ɵmpd"](512,_.l,_.l,[R.a]),o["ɵmpd"](256,$.a,{links:[{loadChildren:"../pages/city-weather/city-weather.module.ngfactory#CityWeatherPageModuleNgFactory",name:"CityWeatherPage",segment:"city-weather",priority:"low",defaultHistory:[]},{loadChildren:"../pages/home-weather/home-weather.module.ngfactory#HomeWeatherPageModuleNgFactory",name:"HomeWeatherPage",segment:"home-weather",priority:"high",defaultHistory:[]},{loadChildren:"../pages/landscape/landscape.module.ngfactory#LandscapePageModuleNgFactory",name:"LandscapePage",segment:"landscape",priority:"low",defaultHistory:[]},{loadChildren:"../pages/location/location.module.ngfactory#LocationPageModuleNgFactory",name:"LocationPage",segment:"location",priority:"high",defaultHistory:[]},{loadChildren:"../pages/settings/settings.module.ngfactory#SettingsPageModuleNgFactory",name:"SettingsPage",segment:"settings",priority:"low",defaultHistory:[]},{loadChildren:"../pages/weather-detail/weather-detail.module.ngfactory#WeatherDetailPageModuleNgFactory",name:"WeatherDetailPage",segment:"weather-detail",priority:"low",defaultHistory:[]},{loadChildren:"../pages/world-city-list/world-city-list.module.ngfactory#WorldCityListPageModuleNgFactory",name:"WorldCityListPage",segment:"world-city-list",priority:"low",defaultHistory:[]}]},[]),o["ɵmpd"](512,o.Compiler,o.Compiler,[]),o["ɵmpd"](512,dt.a,dt.a,[o.Compiler]),o["ɵmpd"](1024,tt.b,tt.c,[dt.a,o.Injector]),o["ɵmpd"](1024,o.APP_INITIALIZER,function(t,e,n,r,o,s,i,u,c,l,d,p,m){return[a.t(t),pt.a(e),K.b(n,r),at.b(o,s,i,u,c),tt.d(l,d,p,m)]},[[2,o.NgProbeToken],N.a,k.a,O.a,N.a,k.a,O.a,R.a,_.l,N.a,$.a,tt.b,o.NgZone]),o["ɵmpd"](512,o.ApplicationInitStatus,o.ApplicationInitStatus,[[2,o.APP_INITIALIZER]]),o["ɵmpd"](131584,o.ApplicationRef,o.ApplicationRef,[o.NgZone,o["ɵConsole"],o.Injector,o.ErrorHandler,o.ComponentFactoryResolver,o.ApplicationInitStatus]),o["ɵmpd"](512,o.ApplicationModule,o.ApplicationModule,[o.ApplicationRef]),o["ɵmpd"](512,a.a,a.a,[[3,a.a]]),o["ɵmpd"](512,i.a,i.a,[]),o["ɵmpd"](512,B.j,B.j,[]),o["ɵmpd"](512,B.d,B.d,[]),o["ɵmpd"](512,B.i,B.i,[]),o["ɵmpd"](512,Q.a,Q.a,[]),o["ɵmpd"](512,f,f,[]),o["ɵmpd"](256,h.a,p,[]),o["ɵmpd"](256,H.a,"/",[])])});Object(o.enableProdMode)(),Object(a.j)().bootstrapModuleFactory(mt)},365:function(t,e,n){function r(t){return n(a(t))}function a(t){var e=o[t];if(!(e+1))throw new Error("Cannot find module '"+t+"'.");return e}var o={"./af":184,"./af.js":184,"./ar":185,"./ar-dz":186,"./ar-dz.js":186,"./ar-kw":187,"./ar-kw.js":187,"./ar-ly":188,"./ar-ly.js":188,"./ar-ma":189,"./ar-ma.js":189,"./ar-sa":190,"./ar-sa.js":190,"./ar-tn":191,"./ar-tn.js":191,"./ar.js":185,"./az":192,"./az.js":192,"./be":193,"./be.js":193,"./bg":194,"./bg.js":194,"./bm":195,"./bm.js":195,"./bn":196,"./bn.js":196,"./bo":197,"./bo.js":197,"./br":198,"./br.js":198,"./bs":199,"./bs.js":199,"./ca":200,"./ca.js":200,"./cs":201,"./cs.js":201,"./cv":202,"./cv.js":202,"./cy":203,"./cy.js":203,"./da":204,"./da.js":204,"./de":205,"./de-at":206,"./de-at.js":206,"./de-ch":207,"./de-ch.js":207,"./de.js":205,"./dv":208,"./dv.js":208,"./el":209,"./el.js":209,"./en-au":210,"./en-au.js":210,"./en-ca":211,"./en-ca.js":211,"./en-gb":212,"./en-gb.js":212,"./en-ie":213,"./en-ie.js":213,"./en-nz":214,"./en-nz.js":214,"./eo":215,"./eo.js":215,"./es":216,"./es-do":217,"./es-do.js":217,"./es-us":218,"./es-us.js":218,"./es.js":216,"./et":219,"./et.js":219,"./eu":220,"./eu.js":220,"./fa":221,"./fa.js":221,"./fi":222,"./fi.js":222,"./fo":223,"./fo.js":223,"./fr":224,"./fr-ca":225,"./fr-ca.js":225,"./fr-ch":226,"./fr-ch.js":226,"./fr.js":224,"./fy":227,"./fy.js":227,"./gd":228,"./gd.js":228,"./gl":229,"./gl.js":229,"./gom-latn":230,"./gom-latn.js":230,"./gu":231,"./gu.js":231,"./he":232,"./he.js":232,"./hi":233,"./hi.js":233,"./hr":234,"./hr.js":234,"./hu":235,"./hu.js":235,"./hy-am":236,"./hy-am.js":236,"./id":237,"./id.js":237,"./is":238,"./is.js":238,"./it":239,"./it.js":239,"./ja":240,"./ja.js":240,"./jv":241,"./jv.js":241,"./ka":242,"./ka.js":242,"./kk":243,"./kk.js":243,"./km":244,"./km.js":244,"./kn":245,"./kn.js":245,"./ko":246,"./ko.js":246,"./ky":247,"./ky.js":247,"./lb":248,"./lb.js":248,"./lo":249,"./lo.js":249,"./lt":250,"./lt.js":250,"./lv":251,"./lv.js":251,"./me":252,"./me.js":252,"./mi":253,"./mi.js":253,"./mk":254,"./mk.js":254,"./ml":255,"./ml.js":255,"./mr":256,"./mr.js":256,"./ms":257,"./ms-my":258,"./ms-my.js":258,"./ms.js":257,"./mt":259,"./mt.js":259,"./my":260,"./my.js":260,"./nb":261,"./nb.js":261,"./ne":262,"./ne.js":262,"./nl":263,"./nl-be":264,"./nl-be.js":264,"./nl.js":263,"./nn":265,"./nn.js":265,"./pa-in":266,"./pa-in.js":266,"./pl":267,"./pl.js":267,"./pt":268,"./pt-br":269,"./pt-br.js":269,"./pt.js":268,"./ro":270,"./ro.js":270,"./ru":271,"./ru.js":271,"./sd":272,"./sd.js":272,"./se":273,"./se.js":273,"./si":274,"./si.js":274,"./sk":275,"./sk.js":275,"./sl":276,"./sl.js":276,"./sq":277,"./sq.js":277,"./sr":278,"./sr-cyrl":279,"./sr-cyrl.js":279,"./sr.js":278,"./ss":280,"./ss.js":280,"./sv":281,"./sv.js":281,"./sw":282,"./sw.js":282,"./ta":283,"./ta.js":283,"./te":284,"./te.js":284,"./tet":285,"./tet.js":285,"./th":286,"./th.js":286,"./tl-ph":287,"./tl-ph.js":287,"./tlh":288,"./tlh.js":288,"./tr":289,"./tr.js":289,"./tzl":290,"./tzl.js":290,"./tzm":291,"./tzm-latn":292,"./tzm-latn.js":292,"./tzm.js":291,"./uk":293,"./uk.js":293,"./ur":294,"./ur.js":294,"./uz":295,"./uz-latn":296,"./uz-latn.js":296,"./uz.js":295,"./vi":297,"./vi.js":297,"./x-pseudo":298,"./x-pseudo.js":298,"./yo":299,"./yo.js":299,"./zh-cn":300,"./zh-cn.js":300,"./zh-hk":301,"./zh-hk.js":301,"./zh-tw":302,"./zh-tw.js":302};r.keys=function(){return Object.keys(o)},r.resolve=a,t.exports=r,r.id=365},78:function(t,e,n){"use strict";n.d(e,"a",function(){return r});n(4),n(101);var r=function(){function t(t){this._db=t,this.table_forecast="forecast",this.table_world_location="world_location"}return t.prototype.addForecast=function(t,e){var n=Date.now(),r="INSERT OR REPLACE INTO "+this.table_forecast+" (name, forecast, lastUpdated) VALUES (?, ?, ?)",a="CREATE TABLE IF NOT EXISTS "+this.table_forecast+" (name TEXT PRIMARY KEY, forecast TEXT, lastUpdated TEXT)",o=this;return o._db.query(a).then(function(){return o._db.query(r,[t,JSON.stringify(e),""+n])}).then(function(t){return!0}).catch(function(t){return!1})},t.prototype.getForecast=function(t){var e="SELECT forecast, lastUpdated FROM "+this.table_forecast+" WHERE name = ?";return this._db.query(e,[t]).then(function(t){if(t.res.rows.length>0){var e=t.res.rows.item(0);return{forecast:JSON.parse(e.forecast),lastUpdated:+e.lastUpdated}}return null}).catch(function(t){return null})},t.prototype.addWorldLocation=function(t){var e="INSERT OR REPLACE INTO "+this.table_world_location+" (name, lat, lng) VALUES (?, ?, ?)",n="CREATE TABLE IF NOT EXISTS "+this.table_world_location+" (name TEXT PRIMARY KEY, lat TEXT, lng TEXT)",r=this;return r._db.query(n).then(function(){return r._db.query(e,[t.name,t.lat,t.lng])}).then(function(t){return!0}).catch(function(t){return!1})},t.prototype.getWorldLocation=function(t){var e="SELECT name, lat, lng FROM "+this.table_world_location+" WHERE name = ?";return this._db.query(e,[t]).then(function(t){if(t.res.rows.length>0){var e=t.res.rows.item(0);return{name:e.name,lat:+e.lat,lng:+e.lng}}return null}).catch(function(t){return null})},t.prototype.removeWorldLocation=function(t){var e="DELETE FROM "+this.table_world_location+" WHERE name = ?";return this._db.query(e,[t]).then(function(){return!0}).catch(function(t){return!1})},t.prototype.getAllWorldLocations=function(){var t="SELECT name, lat, lng FROM "+this.table_world_location,e=[];return this._db.query(t).then(function(t){for(var n=0;n<t.res.rows.length;n++){var r=t.res.rows.item(n);e.push({name:r.name,lat:+r.lat,lng:+r.lng})}return e}).catch(function(t){return e})},t.prototype.set=function(t,e){return this._db.set(t,e).then(function(){return!0}).catch(function(t){return!1})},t.prototype.get=function(t){return this._db.get(t).then(function(t){if(t)return t;throw new Error("Undefined value")}).catch(function(t){return null})},t.prototype.remove=function(t){return this._db.remove(t).then(function(){return!0}).catch(function(t){return!1})},t.prototype.getJson=function(t){return this.get(t).then(function(t){try{return JSON.parse(t)}catch(t){return null}})},t.prototype.setJson=function(t,e){try{return this.set(t,JSON.stringify(e))}catch(t){return Promise.resolve(!1)}},t}()},79:function(t,e,n){"use strict";n.d(e,"a",function(){return c});n(4);var r=n(0),a=(n(53),n(102)),o=n(1),s=n.n(o),i=n(123),u=(n.n(i),n(366)),c=(n.n(u),function(){function t(t){this.toastCtrl=t,this.tabChangeEvent=new r.EventEmitter}return t.prototype.getStandardDay=function(t,e){return t?this.formatEpoch(t,"dddd, MMM D",e):null},t.prototype.getCalendarDay=function(t,e){return t?s()(1e3*t).tz(e).calendar(null,{sameDay:"[Today], MMM D",nextDay:"[Tomorrow], MMM D",nextWeek:"dddd, MMM D",lastDay:"[Yesterday], MMM D",lastWeek:"[Last] dddd, MMM D",sameElse:"dddd, MMM D"}):null},t.prototype.getTime=function(t,e,n){var r=24===e.time?"HH:mm":"h:mm A";return t?this.formatEpoch(t,r,n).replace(":00",""):null},t.prototype.getCurrentHour=function(t){return s()().tz(t).hour()},t.prototype.epochToHour=function(t,e){return s()(1e3*t).tz(e).hour()},t.prototype.getTemp=function(t,e){return t?(e.temp===a.d.C&&(t=(t-32)/1.8),i.round(t)):null},t.prototype.formatEpoch=function(t,e,n){return s()(1e3*t).tz(n).format(e)},t.prototype.formatTemp=function(t,e){return t?(e.temp===a.d.C&&(t=(t-32)/1.8),i.round(t)+"°"):null},t.prototype.formatLength=function(t,e){return t?(e.length===a.b.CM&&(t*=2.54),i.round(t,5)+" "+i.lowerCase(a.b[e.length])):null},t.prototype.formatDistance=function(t,e){return t?(e.distance===a.a.KM&&(t*=1.60934),i.round(t,5)+" "+i.lowerCase(a.a[e.distance])):null},t.prototype.formatPressure=function(t,e){if(!t)return null;var n="mbar";return e.pressure===a.c.HPA&&(n="hPa"),i.round(t,5)+" "+n},t.prototype.formatWind=function(t,e,n){return t?(n.distance===a.a.KM&&(t*=1.60934),i.round(t,2)+" "+i.lowerCase(a.a[n.distance])+"/h "+this.degToCard(e)):null},t.prototype.formatPI=function(t,e){return t?(e.length===a.b.CM&&(t*=25.4),i.round(t,5)+" mm/h"):null},t.prototype.getWeatherIcon=function(t){return t?"assets/img/"+t+".png":"assets/img/default.png"},t.prototype.degToCard=function(t){return t>11.25&&t<33.75?"NNE":t>33.75&&t<56.25?"ENE":t>56.25&&t<78.75?"E":t>78.75&&t<101.25?"ESE":t>101.25&&t<123.75?"ESE":t>123.75&&t<146.25?"SE":t>146.25&&t<168.75?"SSE":t>168.75&&t<191.25?"S":t>191.25&&t<213.75?"SSW":t>213.75&&t<236.25?"SW":t>236.25&&t<258.75?"WSW":t>258.75&&t<281.25?"W":t>281.25&&t<303.75?"WNW":t>303.75&&t<326.25?"NW":t>326.25&&t<348.75?"NNW":"N"},t.prototype.uppercase=function(t){return i.upperCase(t)},t.prototype.startCase=function(t){return i.startCase(t)},t.prototype.getTabChangeEvent=function(){return this.tabChangeEvent},t.prototype.showToast=function(t,e){this.toastCtrl.create({message:t,duration:e||3e3}).present()},t}())}},[331]);