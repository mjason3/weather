webpackJsonp([7],{101:function(t,e,n){"use strict";n.d(e,"a",function(){return o});n(4),n(53);var r="__sunshine",a=window,o=function(){function t(t){var e=this;this.platform=t,this._dbPromise=new Promise(function(t,n){try{var o;e.platform.ready().then(function(){o=e.platform.is("cordova")&&a.sqlitePlugin?a.sqlitePlugin.openDatabase({name:r,location:"default"}):a.openDatabase(r,"1.0","database",5242880),t(o)})}catch(t){n({err:t})}}),this._tryInit()}return t.prototype._tryInit=function(){this.query("CREATE TABLE IF NOT EXISTS kv (key text primary key, value text)").catch(function(t){})},t.prototype.query=function(t,e){var n=this;return void 0===e&&(e=[]),new Promise(function(r,a){try{n._dbPromise.then(function(n){n.transaction(function(n){n.executeSql(t,e,function(t,e){return r({tx:t,res:e})},function(t,e){return a({tx:t,err:e})})},function(t){return a({err:t})})})}catch(t){a({err:t})}})},t.prototype.get=function(t){return this.query("select key, value from kv where key = ? limit 1",[t]).then(function(t){if(t.res.rows.length>0)return t.res.rows.item(0).value})},t.prototype.set=function(t,e){return this.query("insert or replace into kv(key, value) values (?, ?)",[t,e])},t.prototype.getJson=function(t){return this.get(t).then(function(t){try{return JSON.parse(t)}catch(t){throw t}})},t.prototype.setJson=function(t,e){try{return this.set(t,JSON.stringify(e))}catch(t){return Promise.reject(t)}},t.prototype.remove=function(t){return this.query("delete from kv where key = ?",[t])},t.prototype.clear=function(){return this.query("delete from kv")},t}()},102:function(t,e,n){"use strict";n.d(e,"d",function(){return r}),n.d(e,"b",function(){return a}),n.d(e,"a",function(){return o}),n.d(e,"c",function(){return s});var r=function(){var t={};return t[t.F=0]="F",t[t.C=1]="C",t}(),a=function(){var t={};return t[t.IN=0]="IN",t[t.CM=1]="CM",t}(),o=function(){var t={};return t[t.MI=0]="MI",t[t.KM=1]="KM",t}(),s=function(){var t={};return t[t.MBAR=0]="MBAR",t[t.HPA=1]="HPA",t}()},121:function(t,e,n){"use strict";n(125),n(79),n(78),n(101);var r=n(102);n.d(e,"c",function(){return r.a}),n.d(e,"d",function(){return r.b}),n.d(e,"e",function(){return r.c}),n.d(e,"f",function(){return r.d});var a=n(183);n.d(e,"a",function(){return a.a}),n.d(e,"b",function(){return a.b})},125:function(t,e,n){"use strict";n.d(e,"a",function(){return d});n(4);var r=n(0),a=n(91),o=n(11),s=(n.n(o),n(360)),i=(n.n(s),n(361)),u=(n.n(i),n(364)),c=(n.n(u),n(78),n(183)),l=n(122),d=(n.n(l),function(){function t(t,e){this.jsonp=t,this.databaseService=e}return t.prototype.getForecast=function(t,e){void 0===e&&(e=!1);var n=this,a=new r.EventEmitter;return n.databaseService.getForecast(t.name).then(function(e){if(l.isEmpty(e)||!e.lastUpdated||l.isEmpty(e.forecast))throw new Error("Invalid database forecast, fallback to server > "+t.name);a.emit(e.forecast);var n=new Date;if(n.setTime(e.lastUpdated),Math.abs((new Date).getHours()-n.getHours())>c.d||n.getDate()!=(new Date).getDate())throw new Error("Outdated database forecast, refreshing from server > "+t.name)}).catch(function(r){r&&r.message,e||n.getServerData(t,a)}),a},t.prototype.getServerData=function(t,e){var n=this,a=new r.EventEmitter,o=new r.EventEmitter,s=new r.EventEmitter;n.jsonp.get(n.getRequestUri(t)).map(function(t){return t.json()}).catch(n.handleError).subscribe(function(r){n.jsonp.get(n.getRequestUri(t,r.daily.data[0].time)).map(function(t){return t.json()}).catch(n.handleError).subscribe(function(t){return a.emit(t)}),n.jsonp.get(n.getRequestUri(t,r.daily.data[0].time-86400)).map(function(t){return t.json()}).catch(n.handleError).subscribe(function(t){return o.emit(t)}),n.jsonp.get(n.getRequestUri(t,r.daily.data[0].time-172800)).map(function(t){return t.json()}).catch(n.handleError).subscribe(function(t){return s.emit(t)}),a.subscribe(function(a){o.subscribe(function(o){s.subscribe(function(s){r.f0=a,r.f48=s,r.f24=o,e.emit(r),n.databaseService.addForecast(t.name,r)})})})})},t.prototype.handleError=function(t){var e;if(t instanceof a.g){var n=t.json()||"",r=n.error||JSON.stringify(n);e=t.status+" - "+(t.statusText||"")+" "+r}else e=t.message?t.message:t.toString();return o.Observable.throw(e)},t.prototype.getRequestUri=function(t,e){return void 0===e&&(e=0),c.c.API_ENDPOINT+c.c.API_KEY+"/"+t.lat+","+t.lng+(e>0?","+e:"")+"?units=us&lang=en&exclude=currently,minutely,alerts,flags"+(e>0?",daily":"")+"&callback=JSONP_CALLBACK"},t}())},151:function(t,e){function n(t){return Promise.resolve().then(function(){throw new Error("Cannot find module '"+t+"'.")})}n.keys=function(){return[]},n.resolve=n,t.exports=n,n.id=151},181:function(t,e,n){function r(t){var e=a[t];return e?n.e(e[1]).then(function(){return n(e[0])}):Promise.reject(new Error("Cannot find module '"+t+"'."))}var a={"../pages/city-weather/city-weather.module.ngfactory":[374,1],"../pages/home-weather/home-weather.module.ngfactory":[375,0],"../pages/landscape/landscape.module.ngfactory":[376,2],"../pages/location/location.module.ngfactory":[377,6],"../pages/settings/settings.module.ngfactory":[378,3],"../pages/weather-detail/weather-detail.module.ngfactory":[379,5],"../pages/world-city-list/world-city-list.module.ngfactory":[380,4]};r.keys=function(){return Object.keys(a)},r.id=181,t.exports=r},183:function(t,e,n){"use strict";n.d(e,"b",function(){return a}),n.d(e,"c",function(){return o}),n.d(e,"a",function(){return s}),n.d(e,"d",function(){return i});var r=n(102),a={temp:r.d.F,length:r.b.IN,distance:r.a.MI,time:12,pressure:r.c.MBAR},o={API_ENDPOINT:"https://api.darksky.net/forecast/",API_KEY:"f385f57cf7cae1265a9915eaee52d2b1"},s={METRICS:"metrics",HOME_LOCATION:"homeLocation"},i=0},332:function(t,e,n){"use strict";function r(t){return o["ɵvid"](0,[o["ɵqud"](402653184,1,{nav:0}),(t()(),o["ɵted"](-1,null,["\n"])),(t()(),o["ɵeld"](2,0,null,null,8,"ion-split-pane",[],null,null,null,null,null)),o["ɵdid"](3,4341760,null,1,k.b,[o.NgZone,N.a,S.a,o.ElementRef,o.Renderer],null,null),o["ɵqud"](603979776,2,{_setchildren:1}),o["ɵprd"](2048,[[2,4]],k.a,null,[k.b]),(t()(),o["ɵted"](-1,null,["\n  "])),(t()(),o["ɵeld"](7,0,null,null,2,"ion-nav",[["main",""],["swipeBackEnabled","false"]],null,null,null,T.b,T.a)),o["ɵdid"](8,4374528,[[1,4],["content",4]],0,A.a,[[2,I.a],[2,R.a],_.a,S.a,N.a,o.ElementRef,o.NgZone,o.Renderer,o.ComponentFactoryResolver,L.l,D.a,[2,O.a],W.a,o.ErrorHandler],{swipeBackEnabled:[0,"swipeBackEnabled"],root:[1,"root"]},null),o["ɵprd"](2048,[[2,4]],k.a,null,[A.a]),(t()(),o["ɵted"](-1,null,["\n"])),(t()(),o["ɵted"](-1,null,["\n"]))],function(t,e){t(e,8,0,"false",e.component.rootPage)},null)}Object.defineProperty(e,"__esModule",{value:!0});var a=n(23),o=n(0),s=(n(4),n(91)),i=n(152),u=(n(53),n(75)),c=n(139),l=n(76),d=n(57),p=n(138),m=(n(121),function(){function t(t,e,n,r,a){this.platform=t,this.utilService=e,this.statusBar=n,this.splashScreen=r,this.browserTab=a,this.rootPage="HomeWeatherPage",this.pages=[{heading:"",items:[{title:"Home",name:"HomeWeatherPage",icon:"home"},{title:"World",name:"WorldCityListPage",icon:"globe"},{title:"Settings",name:"SettingsPage",icon:"settings"}]}],this.platformReady()}return t.prototype.platformReady=function(){var t=this;this.platform.ready().then(function(){t.platform.is("cordova")&&t.initPlugins()})},t.prototype.initPlugins=function(){this.statusBar.styleLightContent(),this.statusBar.backgroundColorByHexString("#12121c"),this.splashScreen.hide()},t.prototype.openPage=function(t){if(!this.isActive(t)){var e=t.index?{tabIndex:t.index}:{};this.nav.getActiveChildNavs().length&&void 0!=t.index?this.nav.getActiveChildNavs()[0].select(t.index):this.nav.setRoot(t.name,e).catch(function(t){})}},t.prototype.isActive=function(t){var e=this.nav.getActiveChildNavs()[0];return e?e.getSelected()&&e.getSelected().root===t.tabName:!(!this.nav.getActive()||this.nav.getActive().name!==t.name)},t}()),f=n(127),h=function(){return function(){}}(),g=n(47),y=n(321),j=n(322),b=n(323),v=n(324),E=n(325),w=n(326),C=n(327),P=n(328),M=n(329),k=n(34),N=n(5),S=n(2),T=n(373),A=n(51),I=n(6),R=n(21),_=n(9),L=n(8),D=n(29),O=n(14),W=n(10),F=n(79),q=o["ɵcrt"]({encapsulation:2,styles:[],data:{}}),H=o["ɵccf"]("ng-component",m,function(t){return o["ɵvid"](0,[(t()(),o["ɵeld"](0,0,null,null,1,"ng-component",[],null,null,null,r,q)),o["ɵdid"](1,49152,null,0,m,[N.a,F.a,d.a,l.a,u.a],null,null)],null,null)},{},{},[]),z=n(17),x=n(104),U=n(153),B=n(61),J=n(18),Z=n(95),K=n(97),X=n(103),Y=n(15),V=n(31),G=n(35),Q=n(99),$=n(123),tt=n(49),et=n(36),nt=n(81),rt=n(66),at=n(109),ot=n(106),st=n(116),it=n(101),ut=n(78),ct=n(125),lt=n(105),dt=n(26),pt=n(100),mt=n(107),ft=o["ɵcmf"](h,[g.b],function(t){return o["ɵmod"]([o["ɵmpd"](512,o.ComponentFactoryResolver,o["ɵCodegenComponentFactoryResolver"],[[8,[y.a,j.a,b.a,v.a,E.a,w.a,C.a,P.a,M.a,H]],[3,o.ComponentFactoryResolver],o.NgModuleRef]),o["ɵmpd"](4608,s.j,s.j,[]),o["ɵmpd"](4608,s.h,s.b,[]),o["ɵmpd"](4608,s.c,s.c,[s.j,s.h]),o["ɵmpd"](4608,s.f,s.a,[]),o["ɵmpd"](5120,s.d,s.i,[s.c,s.f]),o["ɵmpd"](5120,o.LOCALE_ID,o["ɵq"],[[3,o.LOCALE_ID]]),o["ɵmpd"](4608,z.k,z.j,[o.LOCALE_ID,[2,z.t]]),o["ɵmpd"](5120,o.APP_ID,o["ɵi"],[]),o["ɵmpd"](5120,o.IterableDiffers,o["ɵn"],[]),o["ɵmpd"](5120,o.KeyValueDiffers,o["ɵo"],[]),o["ɵmpd"](4608,a.c,a.r,[z.c]),o["ɵmpd"](6144,o.Sanitizer,null,[a.c]),o["ɵmpd"](4608,a.f,x.a,[]),o["ɵmpd"](5120,a.d,function(t,e,n,r,o){return[new a.k(t,e),new a.o(n),new a.n(r,o)]},[z.c,o.NgZone,z.c,z.c,a.f]),o["ɵmpd"](4608,a.e,a.e,[a.d,o.NgZone]),o["ɵmpd"](135680,a.m,a.m,[z.c]),o["ɵmpd"](4608,a.l,a.l,[a.e,a.m]),o["ɵmpd"](5120,U.a,i.d,[]),o["ɵmpd"](5120,U.c,i.e,[]),o["ɵmpd"](4608,U.b,i.c,[U.a,U.c]),o["ɵmpd"](5120,o.RendererFactory2,i.f,[a.l,U.b,o.NgZone]),o["ɵmpd"](6144,a.p,null,[a.m]),o["ɵmpd"](4608,o.Testability,o.Testability,[o.NgZone]),o["ɵmpd"](4608,a.h,a.h,[z.c]),o["ɵmpd"](4608,a.i,a.i,[z.c]),o["ɵmpd"](4608,B.b,i.b,[o.RendererFactory2,a.b]),o["ɵmpd"](4608,J.k,J.k,[]),o["ɵmpd"](4608,J.c,J.c,[]),o["ɵmpd"](4608,Z.a,Z.a,[_.a,S.a]),o["ɵmpd"](4608,K.a,K.a,[_.a,S.a]),o["ɵmpd"](4608,X.a,X.a,[]),o["ɵmpd"](4608,Y.a,Y.a,[]),o["ɵmpd"](4608,V.a,V.a,[N.a]),o["ɵmpd"](4608,G.a,G.a,[S.a,N.a,o.NgZone,W.a]),o["ɵmpd"](4608,Q.a,Q.a,[_.a,S.a]),o["ɵmpd"](5120,z.f,$.c,[z.q,[2,z.a],S.a]),o["ɵmpd"](4608,z.e,z.e,[z.f]),o["ɵmpd"](5120,tt.b,tt.d,[_.a,tt.a]),o["ɵmpd"](5120,O.a,O.b,[_.a,tt.b,z.e,et.b,o.ComponentFactoryResolver]),o["ɵmpd"](4608,nt.a,nt.a,[_.a,S.a,O.a]),o["ɵmpd"](4608,rt.a,rt.a,[_.a,S.a]),o["ɵmpd"](4608,at.a,at.a,[_.a,S.a,O.a]),o["ɵmpd"](4608,ot.a,ot.a,[S.a,N.a,W.a,_.a,L.l]),o["ɵmpd"](4608,st.a,st.a,[_.a,S.a]),o["ɵmpd"](4608,D.a,D.a,[N.a,S.a]),o["ɵmpd"](4608,c.a,c.a,[]),o["ɵmpd"](4608,it.a,it.a,[N.a]),o["ɵmpd"](4608,ut.a,ut.a,[it.a]),o["ɵmpd"](4608,F.a,F.a,[st.a]),o["ɵmpd"](4608,ct.a,ct.a,[s.d,ut.a]),o["ɵmpd"](4608,l.a,l.a,[]),o["ɵmpd"](4608,d.a,d.a,[]),o["ɵmpd"](4608,u.a,u.a,[]),o["ɵmpd"](4608,p.a,p.a,[]),o["ɵmpd"](4608,f.a,f.a,[]),o["ɵmpd"](512,s.e,s.e,[]),o["ɵmpd"](512,z.b,z.b,[]),o["ɵmpd"](1024,o.ErrorHandler,a.q,[]),o["ɵmpd"](256,S.b,{preloadModules:!0},[]),o["ɵmpd"](1024,lt.a,lt.b,[]),o["ɵmpd"](1024,N.a,N.b,[a.b,lt.a,o.NgZone]),o["ɵmpd"](1024,S.a,S.c,[S.b,N.a]),o["ɵmpd"](512,W.a,W.a,[N.a]),o["ɵmpd"](512,dt.a,dt.a,[]),o["ɵmpd"](512,_.a,_.a,[S.a,N.a,[2,dt.a]]),o["ɵmpd"](512,L.l,L.l,[_.a]),o["ɵmpd"](256,tt.a,{links:[{loadChildren:"../pages/city-weather/city-weather.module.ngfactory#CityWeatherPageModuleNgFactory",name:"CityWeatherPage",segment:"city-weather",priority:"low",defaultHistory:[]},{loadChildren:"../pages/home-weather/home-weather.module.ngfactory#HomeWeatherPageModuleNgFactory",name:"HomeWeatherPage",segment:"home-weather",priority:"high",defaultHistory:[]},{loadChildren:"../pages/landscape/landscape.module.ngfactory#LandscapePageModuleNgFactory",name:"LandscapePage",segment:"landscape",priority:"low",defaultHistory:[]},{loadChildren:"../pages/location/location.module.ngfactory#LocationPageModuleNgFactory",name:"LocationPage",segment:"location",priority:"high",defaultHistory:[]},{loadChildren:"../pages/settings/settings.module.ngfactory#SettingsPageModuleNgFactory",name:"SettingsPage",segment:"settings",priority:"low",defaultHistory:[]},{loadChildren:"../pages/weather-detail/weather-detail.module.ngfactory#WeatherDetailPageModuleNgFactory",name:"WeatherDetailPage",segment:"weather-detail",priority:"low",defaultHistory:[]},{loadChildren:"../pages/world-city-list/world-city-list.module.ngfactory#WorldCityListPageModuleNgFactory",name:"WorldCityListPage",segment:"world-city-list",priority:"low",defaultHistory:[]}]},[]),o["ɵmpd"](512,o.Compiler,o.Compiler,[]),o["ɵmpd"](512,pt.a,pt.a,[o.Compiler]),o["ɵmpd"](1024,et.b,et.c,[pt.a,o.Injector]),o["ɵmpd"](1024,o.APP_INITIALIZER,function(t,e,n,r,o,s,i,u,c,l,d,p,m){return[a.t(t),mt.a(e),X.b(n,r),ot.b(o,s,i,u,c),et.d(l,d,p,m)]},[[2,o.NgProbeToken],S.a,N.a,W.a,S.a,N.a,W.a,_.a,L.l,S.a,tt.a,et.b,o.NgZone]),o["ɵmpd"](512,o.ApplicationInitStatus,o.ApplicationInitStatus,[[2,o.APP_INITIALIZER]]),o["ɵmpd"](131584,o.ApplicationRef,o.ApplicationRef,[o.NgZone,o["ɵConsole"],o.Injector,o.ErrorHandler,o.ComponentFactoryResolver,o.ApplicationInitStatus]),o["ɵmpd"](512,o.ApplicationModule,o.ApplicationModule,[o.ApplicationRef]),o["ɵmpd"](512,a.a,a.a,[[3,a.a]]),o["ɵmpd"](512,i.a,i.a,[]),o["ɵmpd"](512,J.j,J.j,[]),o["ɵmpd"](512,J.d,J.d,[]),o["ɵmpd"](512,J.i,J.i,[]),o["ɵmpd"](512,$.a,$.a,[]),o["ɵmpd"](512,h,h,[]),o["ɵmpd"](256,g.a,m,[]),o["ɵmpd"](256,z.a,"/",[])])});Object(o.enableProdMode)(),Object(a.j)().bootstrapModuleFactory(ft)},366:function(t,e,n){function r(t){return n(a(t))}function a(t){var e=o[t];if(!(e+1))throw new Error("Cannot find module '"+t+"'.");return e}var o={"./af":185,"./af.js":185,"./ar":186,"./ar-dz":187,"./ar-dz.js":187,"./ar-kw":188,"./ar-kw.js":188,"./ar-ly":189,"./ar-ly.js":189,"./ar-ma":190,"./ar-ma.js":190,"./ar-sa":191,"./ar-sa.js":191,"./ar-tn":192,"./ar-tn.js":192,"./ar.js":186,"./az":193,"./az.js":193,"./be":194,"./be.js":194,"./bg":195,"./bg.js":195,"./bm":196,"./bm.js":196,"./bn":197,"./bn.js":197,"./bo":198,"./bo.js":198,"./br":199,"./br.js":199,"./bs":200,"./bs.js":200,"./ca":201,"./ca.js":201,"./cs":202,"./cs.js":202,"./cv":203,"./cv.js":203,"./cy":204,"./cy.js":204,"./da":205,"./da.js":205,"./de":206,"./de-at":207,"./de-at.js":207,"./de-ch":208,"./de-ch.js":208,"./de.js":206,"./dv":209,"./dv.js":209,"./el":210,"./el.js":210,"./en-au":211,"./en-au.js":211,"./en-ca":212,"./en-ca.js":212,"./en-gb":213,"./en-gb.js":213,"./en-ie":214,"./en-ie.js":214,"./en-nz":215,"./en-nz.js":215,"./eo":216,"./eo.js":216,"./es":217,"./es-do":218,"./es-do.js":218,"./es-us":219,"./es-us.js":219,"./es.js":217,"./et":220,"./et.js":220,"./eu":221,"./eu.js":221,"./fa":222,"./fa.js":222,"./fi":223,"./fi.js":223,"./fo":224,"./fo.js":224,"./fr":225,"./fr-ca":226,"./fr-ca.js":226,"./fr-ch":227,"./fr-ch.js":227,"./fr.js":225,"./fy":228,"./fy.js":228,"./gd":229,"./gd.js":229,"./gl":230,"./gl.js":230,"./gom-latn":231,"./gom-latn.js":231,"./gu":232,"./gu.js":232,"./he":233,"./he.js":233,"./hi":234,"./hi.js":234,"./hr":235,"./hr.js":235,"./hu":236,"./hu.js":236,"./hy-am":237,"./hy-am.js":237,"./id":238,"./id.js":238,"./is":239,"./is.js":239,"./it":240,"./it.js":240,"./ja":241,"./ja.js":241,"./jv":242,"./jv.js":242,"./ka":243,"./ka.js":243,"./kk":244,"./kk.js":244,"./km":245,"./km.js":245,"./kn":246,"./kn.js":246,"./ko":247,"./ko.js":247,"./ky":248,"./ky.js":248,"./lb":249,"./lb.js":249,"./lo":250,"./lo.js":250,"./lt":251,"./lt.js":251,"./lv":252,"./lv.js":252,"./me":253,"./me.js":253,"./mi":254,"./mi.js":254,"./mk":255,"./mk.js":255,"./ml":256,"./ml.js":256,"./mr":257,"./mr.js":257,"./ms":258,"./ms-my":259,"./ms-my.js":259,"./ms.js":258,"./mt":260,"./mt.js":260,"./my":261,"./my.js":261,"./nb":262,"./nb.js":262,"./ne":263,"./ne.js":263,"./nl":264,"./nl-be":265,"./nl-be.js":265,"./nl.js":264,"./nn":266,"./nn.js":266,"./pa-in":267,"./pa-in.js":267,"./pl":268,"./pl.js":268,"./pt":269,"./pt-br":270,"./pt-br.js":270,"./pt.js":269,"./ro":271,"./ro.js":271,"./ru":272,"./ru.js":272,"./sd":273,"./sd.js":273,"./se":274,"./se.js":274,"./si":275,"./si.js":275,"./sk":276,"./sk.js":276,"./sl":277,"./sl.js":277,"./sq":278,"./sq.js":278,"./sr":279,"./sr-cyrl":280,"./sr-cyrl.js":280,"./sr.js":279,"./ss":281,"./ss.js":281,"./sv":282,"./sv.js":282,"./sw":283,"./sw.js":283,"./ta":284,"./ta.js":284,"./te":285,"./te.js":285,"./tet":286,"./tet.js":286,"./th":287,"./th.js":287,"./tl-ph":288,"./tl-ph.js":288,"./tlh":289,"./tlh.js":289,"./tr":290,"./tr.js":290,"./tzl":291,"./tzl.js":291,"./tzm":292,"./tzm-latn":293,"./tzm-latn.js":293,"./tzm.js":292,"./uk":294,"./uk.js":294,"./ur":295,"./ur.js":295,"./uz":296,"./uz-latn":297,"./uz-latn.js":297,"./uz.js":296,"./vi":298,"./vi.js":298,"./x-pseudo":299,"./x-pseudo.js":299,"./yo":300,"./yo.js":300,"./zh-cn":301,"./zh-cn.js":301,"./zh-hk":302,"./zh-hk.js":302,"./zh-tw":303,"./zh-tw.js":303};r.keys=function(){return Object.keys(o)},r.resolve=a,t.exports=r,r.id=366},78:function(t,e,n){"use strict";n.d(e,"a",function(){return r});n(4),n(101);var r=function(){function t(t){this._db=t,this.table_forecast="forecast",this.table_world_location="world_location"}return t.prototype.addForecast=function(t,e){var n=Date.now(),r="INSERT OR REPLACE INTO "+this.table_forecast+" (name, forecast, lastUpdated) VALUES (?, ?, ?)",a="CREATE TABLE IF NOT EXISTS "+this.table_forecast+" (name TEXT PRIMARY KEY, forecast TEXT, lastUpdated TEXT)",o=this;return o._db.query(a).then(function(){return o._db.query(r,[t,JSON.stringify(e),""+n])}).then(function(t){return!0}).catch(function(t){return!1})},t.prototype.getForecast=function(t){var e="SELECT forecast, lastUpdated FROM "+this.table_forecast+" WHERE name = ?";return this._db.query(e,[t]).then(function(t){if(t.res.rows.length>0){var e=t.res.rows.item(0);return{forecast:JSON.parse(e.forecast),lastUpdated:+e.lastUpdated}}return null}).catch(function(t){return null})},t.prototype.addWorldLocation=function(t){var e="INSERT OR REPLACE INTO "+this.table_world_location+" (name, lat, lng) VALUES (?, ?, ?)",n="CREATE TABLE IF NOT EXISTS "+this.table_world_location+" (name TEXT PRIMARY KEY, lat TEXT, lng TEXT)",r=this;return r._db.query(n).then(function(){return r._db.query(e,[t.name,t.lat,t.lng])}).then(function(t){return!0}).catch(function(t){return!1})},t.prototype.getWorldLocation=function(t){var e="SELECT name, lat, lng FROM "+this.table_world_location+" WHERE name = ?";return this._db.query(e,[t]).then(function(t){if(t.res.rows.length>0){var e=t.res.rows.item(0);return{name:e.name,lat:+e.lat,lng:+e.lng}}return null}).catch(function(t){return null})},t.prototype.removeWorldLocation=function(t){var e="DELETE FROM "+this.table_world_location+" WHERE name = ?";return this._db.query(e,[t]).then(function(){return!0}).catch(function(t){return!1})},t.prototype.getAllWorldLocations=function(){var t="SELECT name, lat, lng FROM "+this.table_world_location,e=[];return this._db.query(t).then(function(t){for(var n=0;n<t.res.rows.length;n++){var r=t.res.rows.item(n);e.push({name:r.name,lat:+r.lat,lng:+r.lng})}return e}).catch(function(t){return e})},t.prototype.set=function(t,e){return this._db.set(t,e).then(function(){return!0}).catch(function(t){return!1})},t.prototype.get=function(t){return this._db.get(t).then(function(t){if(t)return t;throw new Error("Undefined value")}).catch(function(t){return null})},t.prototype.remove=function(t){return this._db.remove(t).then(function(){return!0}).catch(function(t){return!1})},t.prototype.getJson=function(t){return this.get(t).then(function(t){try{return JSON.parse(t)}catch(t){return null}})},t.prototype.setJson=function(t,e){try{return this.set(t,JSON.stringify(e))}catch(t){return Promise.resolve(!1)}},t}()},79:function(t,e,n){"use strict";n.d(e,"a",function(){return c});n(4);var r=n(0),a=(n(53),n(102)),o=n(1),s=n.n(o),i=n(122),u=(n.n(i),n(367)),c=(n.n(u),function(){function t(t){this.toastCtrl=t,this.tabChangeEvent=new r.EventEmitter}return t.prototype.getStandardDay=function(t,e){return t?this.formatEpoch(t,"dddd, MMM D",e):null},t.prototype.getCalendarDay=function(t,e){return t?s()(1e3*t).tz(e).calendar(null,{sameDay:"[Today], MMM D",nextDay:"[Tomorrow], MMM D",nextWeek:"dddd, MMM D",lastDay:"[Yesterday], MMM D",lastWeek:"[Last] dddd, MMM D",sameElse:"dddd, MMM D"}):null},t.prototype.getTime=function(t,e,n){var r=24===e.time?"HH:mm":"h:mm A";return t?this.formatEpoch(t,r,n).replace(":00",""):null},t.prototype.getCurrentHour=function(t){return s()().tz(t).hour()},t.prototype.epochToHour=function(t,e){return s()(1e3*t).tz(e).hour()},t.prototype.getTemp=function(t,e){return t?(e.temp===a.d.C&&(t=(t-32)/1.8),i.round(t)):null},t.prototype.formatEpoch=function(t,e,n){return s()(1e3*t).tz(n).format(e)},t.prototype.formatTemp=function(t,e){return t?(e.temp===a.d.C&&(t=(t-32)/1.8),i.round(t)+"°"):null},t.prototype.formatLength=function(t,e){return t?(e.length===a.b.CM&&(t*=2.54),i.round(t,5)+" "+i.lowerCase(a.b[e.length])):null},t.prototype.formatDistance=function(t,e){return t?(e.distance===a.a.KM&&(t*=1.60934),i.round(t,5)+" "+i.lowerCase(a.a[e.distance])):null},t.prototype.formatPressure=function(t,e){if(!t)return null;var n="mbar";return e.pressure===a.c.HPA&&(n="hPa"),i.round(t,5)+" "+n},t.prototype.formatWind=function(t,e,n){return t?(n.distance===a.a.KM&&(t*=1.60934),i.round(t,2)+" "+i.lowerCase(a.a[n.distance])+"/h "+this.degToCard(e)):null},t.prototype.formatPI=function(t,e){return t?(e.length===a.b.CM&&(t*=25.4),i.round(t,5)+" mm/h"):null},t.prototype.getWeatherIcon=function(t){return t?"assets/img/"+t+".png":"assets/img/default.png"},t.prototype.degToCard=function(t){return t>11.25&&t<33.75?"NNE":t>33.75&&t<56.25?"ENE":t>56.25&&t<78.75?"E":t>78.75&&t<101.25?"ESE":t>101.25&&t<123.75?"ESE":t>123.75&&t<146.25?"SE":t>146.25&&t<168.75?"SSE":t>168.75&&t<191.25?"S":t>191.25&&t<213.75?"SSW":t>213.75&&t<236.25?"SW":t>236.25&&t<258.75?"WSW":t>258.75&&t<281.25?"W":t>281.25&&t<303.75?"WNW":t>303.75&&t<326.25?"NW":t>326.25&&t<348.75?"NNW":"N"},t.prototype.uppercase=function(t){return i.upperCase(t)},t.prototype.startCase=function(t){return i.startCase(t)},t.prototype.getTabChangeEvent=function(){return this.tabChangeEvent},t.prototype.showToast=function(t,e){this.toastCtrl.create({message:t,duration:e||3e3}).present()},t}())}},[332]);